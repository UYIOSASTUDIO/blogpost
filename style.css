:root {
    --bg-color: #020205;
    /* NEUES BLAU: Kräftiger, strahlender, aber seriös */
    --crt-blue: #2B55B8;
    --text-white: #EBEFEF;
    --scanline: rgba(0, 0, 0, 0.5);
    /* Desktop Hintergrund Muster Farbe */
    --desktop-pattern: #1a1a24;
}

* { box-sizing: border-box; }

html {
    background-color: var(--bg-color); /* Füllt die Notch Area */
}

body {
    margin: 0; padding: 0;
    /* Safe Area Inset sorgt dafür, dass Inhalt nicht hinter der Notch verschwindet */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    background-color: var(--bg-color);
    color: var(--text-white);
    font-family: 'VT323', monospace;
    height: 100vh; /* Fallback */
    height: 100dvh; /* Dynamic Height für Mobile Browser Leisten */
    width: 100%;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    text-transform: uppercase;
    -webkit-font-smoothing: none;
    /* Standardmäßig keine Maus, außer wir aktivieren sie für Desktop */
    cursor: none;
}

/* --- HINTERGRUND & FENSTER (Desktop OS Style) --- */

#desktop-bg {
    display: none; /* Auf Handy aus */
}

#minitel-screen {
    background-color: var(--bg-color);
    width: 100%;
    height: 100%; /* Auf Handy Vollbild */
    position: relative;
    display: flex;
    flex-direction: column;
    padding: 15px;
    font-size: 1.5rem;
    letter-spacing: 1px;
    /* Leichter Glow für das "Strahlende" */
    text-shadow: 0 0 5px rgba(43, 85, 184, 0.6);
    z-index: 10;
}

#scanlines {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
    linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    background-size: 100% 3px, 3px 100%;
    pointer-events: none; z-index: 999;
}

/* --- HEADER --- */
header {
    margin-bottom: 20px;
    display: flex; justify-content: space-between; align-items: flex-start;
    user-select: none; /* Wichtig fürs Dragging */
}

.logo-section { display: flex; flex-direction: column; }
.ascii-logo { line-height:0.6; font-size:1rem; opacity:0.8; }

.header-block {
    background-color: var(--crt-blue);
    color: var(--text-white);
    padding: 5px 15px;
    font-size: 2rem;
    line-height: 1;
    font-weight: bold;
    /* Schlagschatten für mehr Tiefe */
    box-shadow: 4px 4px 0px rgba(0,0,0,0.5);
}

/* --- LISTE --- */
#content-area { flex-grow: 1; overflow: hidden; display: flex; flex-direction: column; }

.post-item {
    display: flex; justify-content: space-between; align-items: flex-end;
    padding: 2px 5px; margin-bottom: 8px;
    cursor: pointer;
    border: 1px solid transparent; /* Platzhalter um Springen zu vermeiden */
}

.dots-filler {
    flex-grow: 1;
    border-bottom: 2px dotted var(--text-white);
    margin: 0 10px 5px 10px;
    opacity: 0.5;
}

/* AKTIVER STATUS: Invertiertes Blau */
.post-item.active {
    background-color: var(--crt-blue);
    color: var(--text-white);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.8); /* Kleiner 3D Effekt */
}
.post-item.active .dots-filler { opacity: 1; }

/* --- SINGLE POST --- */
.single-post {
    display: none; height: 100%; overflow-y: auto; padding-right: 10px;
    scrollbar-width: thin;
    scrollbar-color: var(--crt-blue) var(--bg-color);
}
/* Retro Scrollbar für Webkit */
.single-post::-webkit-scrollbar { width: 8px; }
.single-post::-webkit-scrollbar-track { background: var(--bg-color); }
.single-post::-webkit-scrollbar-thumb { background-color: var(--crt-blue); border: 1px solid #fff; }

.meta-row { display: flex; margin-bottom: 10px; }
.label { width: 140px; }
.value { flex-grow: 1; border-bottom: 2px dotted var(--text-white); }
.post-body { margin-top: 30px; line-height: 1.4; white-space: pre-line; }

/* --- FOOTER --- */
footer {
    margin-top: auto; display: flex; justify-content: flex-end;
    padding-top: 10px; font-size: 1.2rem;
}
.menu-box {
    display: grid; grid-template-columns: auto auto; gap: 5px;
    text-align: right; border: 2px solid var(--crt-blue);
    padding: 5px; background: #000;
}
.menu-item { padding: 0 5px; }
.menu-key { background-color: var(--text-white); color: #000; padding: 0 5px; margin-left: 5px; font-weight: bold; }

/* --- DESKTOP OS MODUS (AB 800px) --- */
@media (min-width: 801px) {
    /* Pixeliger Retro Mauszeiger */
    body {
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewport="0 0 24 24" fill="white" stroke="black"><polygon points="0,0 0,16 4,12 8,20 10,18 6,10 14,10"/></svg>'), auto;
    }

    /* Hintergrund wird sichtbar */
    #desktop-bg {
        display: block;
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background-color: var(--bg-color);
        /* Dither Pattern für Retro Look */
        background-image: radial-gradient(var(--desktop-pattern) 15%, transparent 16%),
        radial-gradient(var(--desktop-pattern) 15%, transparent 16%);
        background-size: 4px 4px;
        background-position: 0 0, 2px 2px;
        z-index: 1;
    }

    /* Das "Fenster" */
    #minitel-screen {
        width: 700px;
        height: 550px;
        position: absolute; /* Ermöglicht Dragging */
        /* Zentrierung am Anfang */
        left: 50%; top: 50%;
        transform: translate(-50%, -50%);

        border: 2px solid var(--text-white);
        box-shadow: 10px 10px 0px rgba(0,0,0,0.5); /* Harter Schatten */
        background-color: var(--bg-color);
        z-index: 100;
    }

    /* Header sieht aus wie Title Bar und cursor zeigt "Move" an */
    header {
        cursor: move;
        border-bottom: 2px solid var(--crt-blue);
        padding-bottom: 10px;
    }
}

/* --- MOBILE OPTIMIERUNGEN --- */
@media (max-width: 800px) {
    /* Verstecke das Menü unten rechts auf Handy, wie gewünscht */
    #desktop-footer {
        display: none;
    }

    /* Etwas mehr Platz an den Seiten auf Handy */
    #minitel-screen {
        padding: 20px 15px;
        border: none; /* Kein Rahmen auf Handy */
        box-shadow: none;
    }

    /* Mauszeiger verstecken da Touch */
    body { cursor: none; }
}